# ragel note

* [Linux使用ragel进行文本快速解析](https://blog.csdn.net/stayneckwind2/article/details/89285762)

* 正则表达式可以清晰描述处理流程，而状态机器可以可靠、快速地执行该流程
* ragel的编程哲学： 开发者使用易于理解的正则表达式来设计流程，然后生成高效的状态机代码给机器运行
* ragel是一个代码生成器，对常规的语言进行编译，生成有限状态机代码。
* ragel生成相关的嵌入式代码将使用内联操作，并不会破坏原来语言的语法结构

## ragel核心介绍

* ragel的核心语言包括正则表达式运算符，动作嵌入运算符。用户的正则表达式将被编译为确定的状态机，并且执行指定的动作。编程的核心在于理解正则表达式和确定性有限状态机的关系

## ragel的优势

* 实现健壮的协议
* 解析数据格式
* 编程语言的语法分析
* 验证用户输入

## ragel特性

* 结合常规代码、状态图表、扫描器就能构建FSM
* 支持在FSM任意位置插入执行的动作
* 使用防御性操作控制流程不确定性
* 使用hopcroft算法实现最小自动机
* 支持graphviz软件对FSM可视化
* 使用单字节、双字节、字长的字母表
* 在非依赖情况下生成c,c++,ASM代码
* 可选使用表、控制流去驱动状态机

## 状态机的概念(machine)

* ragel对于字符串的解析，是用一种结合正则表达式的机器语言来描述，可表现为内嵌的状态机语言规范。这种机器语言通过扫描输入的字符串，匹配状态机的特定状态进行处理，当扫描结束的时候，处理也随之完成。这种有限状态机语言可以由数行代码完成，使用标识符%%{开始，使用}%%结束，也可以使用%%开始的一行进行实现

* ragel体现了一种代码生成代码的特点，字符串的处理中，正则表达式是人类自然语言最好的提醒，同时又能通过转换成高效的计算机语言，ragel作为中间工具将两者完美的结合起来了

## hyperscan

* [Hyperscan简介](https://www.sdnlab.com/18773.html)
* 一款来自于intel的高性能正则表达式匹配库，大量高效算法以及intelSIMD指令的使用实现了hyperscan的高性能匹配。
* hyperscan以自动机理论为基础，其工作流程主要分成两个部分，编译期和运行期
* 